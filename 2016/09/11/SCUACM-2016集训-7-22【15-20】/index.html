<!DOCTYPE html>
<html lang="zh-Hans">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="zhuyujiang" />
<meta name="renderer" content="webkit">
<meta name="google" value="notranslate">



<meta name="description" content="集训期间完成13道，补题3道。比赛链接：http://vjudge.net/contest/123334#overview">
<meta property="og:type" content="article">
<meta property="og:title" content="SCUACM 2016集训 7.22【16/20】">
<meta property="og:url" content="https://yukizzz.github.io/2016/09/11/SCUACM-2016集训-7-22【15-20】/index.html">
<meta property="og:site_name" content="Zhuyujiang's blog">
<meta property="og:description" content="集训期间完成13道，补题3道。比赛链接：http://vjudge.net/contest/123334#overview">
<meta property="og:updated_time" content="2016-09-13T15:27:18.918Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SCUACM 2016集训 7.22【16/20】">
<meta name="twitter:description" content="集训期间完成13道，补题3道。比赛链接：http://vjudge.net/contest/123334#overview">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternative" href="/atom.xml" title="Zhuyujiang&#39;s blog" type="application/atom+xml">



    <link rel="shortcut icon" href="/resources/avatar.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>SCUACM 2016集训 7.22【16/20】 | Zhuyujiang&#39;s blog</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: false
    }
</script>


    <script>
        yiliaConfig.jquery_ui = [true, "//cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js", "//cdn.bootcss.com/jqueryui/1.10.4/css/jquery-ui.min.css"];
    </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/resources/avatar.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">zhuyujiang</a></h1>
        </hgroup>

        
        <p class="header-subtitle">Talk is Cheap</p>
        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/archives">所有文章</a></li>
                        
                            <li><a href="/categories">文章分类</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa CSDN" href="//blog.csdn.net/yukizzz" title="CSDN"></a>
                            
                                <a class="fa GitHub" href="//github.com/Yukizzz" title="GitHub"></a>
                            
                                <a class="fa Facebook" href="//www.facebook.com/profile.php?id=100005125860208" title="Facebook"></a>
                            
                                <a class="fa 知乎" href="//www.zhihu.com/people/jiang-yu-zhu-41" title="知乎"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/2DBIT/">2DBIT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/2dBIT/">2dBIT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ACM/">ACM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ACM-集训/">ACM_集训</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CDQ分治/">CDQ分治</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DFS/">DFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DFS序/">DFS序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FFT/">FFT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/KM/">KM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LCA/">LCA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lucas/">Lucas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Manacher/">Manacher</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NTT/">NTT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SAM/">SAM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dp/">dp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zkw线段树/">zkw线段树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/中国剩余定理/">中国剩余定理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/主席树/">主席树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/二分/">二分</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/优先级队列/">优先级队列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/几何/">几何</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/割点/">割点</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/动态规划/">动态规划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/区间dp/">区间dp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/博弈/">博弈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/回文串/">回文串</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图绝对中心/">图绝对中心</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字典树/">字典树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/容斥/">容斥</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/巧妙处理/">巧妙处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/差分思想/">差分思想</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/并查集/">并查集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/异或/">异或</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/心情/">心情</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/思维/">思维</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/扫描线/">扫描线</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/拓扑排序/">拓扑排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数位dp/">数位dp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数学/">数学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数论/">数论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最大权闭合子图/">最大权闭合子图</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最小割/">最小割</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最小生成树/">最小生成树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/极角排序/">极角排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/树形dp/">树形dp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/树状数组/">树状数组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/树链剖分/">树链剖分</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/概率dp/">概率dp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模拟/">模拟</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/欧拉函数/">欧拉函数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/求质数个数/">求质数个数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/物理/">物理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/状压/">状压</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/状压dp/">状压dp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/矩阵快速幂/">矩阵快速幂</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/约瑟夫环/">约瑟夫环</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/线段交/">线段交</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/线段树/">线段树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/组合数学/">组合数学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/细节/">细节</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/脑洞/">脑洞</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/行列式/">行列式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算几何/">计算几何</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/读书笔记/">读书笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/贪心/">贪心</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/费用流/">费用流</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/高维前缀和/">高维前缀和</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="//taosama.github.io/">Taosamao</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://luoxinchen.me/">luoxinchen</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://blog.csdn.net/jibancanyang/">JIBANCANYANG</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://helloworlderly.github.io/HelloWorld_Blog/">Goku姜永铭</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">(*/ω＼*)SCU~ACMer~</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">zhuyujiang</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/resources/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">zhuyujiang</a></h1>
            </hgroup>
            
            <p class="header-subtitle">Talk is Cheap</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/archives">所有文章</a></li>
                
                    <li><a href="/categories">文章分类</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa CSDN" target="_blank" href="//blog.csdn.net/yukizzz" title="CSDN"></a>
                            
                                <a class="fa GitHub" target="_blank" href="//github.com/Yukizzz" title="GitHub"></a>
                            
                                <a class="fa Facebook" target="_blank" href="//www.facebook.com/profile.php?id=100005125860208" title="Facebook"></a>
                            
                                <a class="fa 知乎" target="_blank" href="//www.zhihu.com/people/jiang-yu-zhu-41" title="知乎"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap"><article id="post-SCUACM-2016集训-7-22【15-20】" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/09/11/SCUACM-2016集训-7-22【15-20】/" class="article-date">
      <time datetime="2016-09-11T14:28:08.000Z" itemprop="datePublished">2016-09-11</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      SCUACM 2016集训 7.22【16/20】
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/ACM-集训/">ACM_集训</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ACM-集训/">ACM_集训</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
      
          
        <p>集训期间完成13道，补题3道。<br>比赛链接：<a href="http://vjudge.net/contest/123334#overview" target="_blank" rel="external">http://vjudge.net/contest/123334#overview</a><br><a id="more"></a></p>
<h2 id="A-Island-of-Survival-概率dp"><a href="#A-Island-of-Survival-概率dp" class="headerlink" title="A - Island of Survival(概率dp)"></a>A - Island of Survival(概率dp)</h2><h3 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h3><p>给定岛上老虎和鹿的个数，人、老虎和鹿每天随机有两只相遇。若人或鹿和老虎相遇，人或鹿被吃。若老虎相遇，两只老虎就会同归于尽，其余情况什么也不发生。问人存活下来的概率。</p>
<h3 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h3><p>仔细分析，问题可以转化为老虎全部死亡的概率，而这只与老虎有关，鹿和人并不会影响老虎的数量。<br>若老虎数量奇数，人总会被吃掉。<br>若偶数，计算老虎两两同归于尽的概率即可。</p>
<h3 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">    &gt; File Name: A.cpp</div><div class="line">    &gt; Author: jiangyuzhu</div><div class="line">    &gt; Mail: 834138558@qq.com </div><div class="line">    &gt; Created Time: 2016/7/24 21:51:37</div><div class="line"> ************************************************************************/</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e3</span> + <span class="number">5</span>;</div><div class="line"><span class="keyword">double</span> dp[maxn];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> T;<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> tt = <span class="number">1</span>; tt &lt;= T; tt++)&#123;</div><div class="line">		<span class="keyword">int</span> t, d;<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;t, &amp;d);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d: "</span>, tt);</div><div class="line">		<span class="keyword">if</span>(t &amp; <span class="number">1</span>)&#123;</div><div class="line">			<span class="built_in">puts</span>(<span class="string">"0"</span>);</div><div class="line">			<span class="keyword">continue</span>;</div><div class="line">		&#125;</div><div class="line">		dp[t] = <span class="number">1</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = t; i &gt;= <span class="number">2</span>; i -= <span class="number">2</span>)&#123;</div><div class="line">			dp[i - <span class="number">2</span>] = dp[i] * (<span class="keyword">double</span>)(i * (i - <span class="number">1</span>)) / (<span class="keyword">double</span>)(i * (i + <span class="number">1</span>));</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%.10f\n"</span>, dp[<span class="number">0</span>]);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="B-Where-to-Run-概率dp"><a href="#B-Where-to-Run-概率dp" class="headerlink" title="B - Where to Run(概率dp)"></a>B - Where to Run(概率dp)</h2><h3 id="题意"><a href="#题意" class="headerlink" title="题意:"></a>题意:</h3><p>给定$n个点(1 \le n \le 15)构成的$无向图，从$0$出发，在一个点处可以去往相邻的点，或者在该点继续呆5分钟，每个选择概率相等。问遍历完整个图的期望时间。</p>
<h3 id="分析：-1"><a href="#分析：-1" class="headerlink" title="分析："></a>分析：</h3><p>$n$只有$15$，容易想到状压<br>而对于某一点期望$dp[u]， dp[u] = 5 + dp[u] + \sum_{v与u相连且未访问过}{dp[v] + val[u][v]}$<br>整理一下再套个记忆化搜索外壳就好啦~<br>注意！要考虑不可达的状态！！！</p>
<h3 id="代码：-1"><a href="#代码：-1" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">    &gt; File Name: B.cpp</div><div class="line">    &gt; Author: jiangyuzhu</div><div class="line">    &gt; Mail: 834138558@qq.com </div><div class="line">    &gt; Created Time: 2016/7/24 22:17:10</div><div class="line"> ************************************************************************/</div><div class="line"><span class="comment">//要考虑不可达的状态</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> sa(n) scanf(<span class="meta-string">"%d"</span>, &amp;(n))</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">15</span> + <span class="number">1</span>, maxm = <span class="number">5e2</span> + <span class="number">5</span>;</div><div class="line"><span class="keyword">double</span> dp[<span class="number">1</span> &lt;&lt; maxn][maxn];<span class="comment">//当期那在j，访问情况i</span></div><div class="line"><span class="keyword">bool</span> vis[<span class="number">1</span> &lt;&lt; maxn][maxn];<span class="comment">//当期那在j，访问情况i</span></div><div class="line"><span class="keyword">struct</span> edge&#123;<span class="keyword">int</span> to;<span class="keyword">int</span> val;<span class="keyword">int</span> next;&#125;edges[maxm];</div><div class="line"><span class="keyword">int</span> head[maxn];</div><div class="line"><span class="keyword">int</span> tot;</div><div class="line"><span class="keyword">int</span> t;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	tot = <span class="number">0</span>;</div><div class="line">	<span class="built_in">memset</span>(head, <span class="number">-1</span>, <span class="keyword">sizeof</span>(head));</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> w)</span></span></div><div class="line">&#123;</div><div class="line">	edges[tot].to = v;</div><div class="line">	edges[tot].val = w;</div><div class="line">	edges[tot].next = head[u];</div><div class="line">	head[u] = tot++;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> state, <span class="keyword">int</span> u)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(vis[state][u]) <span class="keyword">return</span> state == t || dp[state][u] &gt; <span class="number">0</span>;</div><div class="line">	vis[state][u] = <span class="literal">true</span>;</div><div class="line">	<span class="keyword">int</span> cnt = <span class="number">0</span>;</div><div class="line">	<span class="keyword">int</span> nstate;</div><div class="line">	<span class="keyword">double</span> ans = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; i != <span class="number">-1</span>; i = edges[i].next)&#123;</div><div class="line">		<span class="keyword">int</span> v = edges[i].to;</div><div class="line">		<span class="keyword">if</span>((state &gt;&gt; v) &amp; <span class="number">1</span>) <span class="keyword">continue</span>;</div><div class="line">		nstate = state | (<span class="number">1</span> &lt;&lt; v);</div><div class="line">		<span class="keyword">if</span>(!dfs(nstate, v)) <span class="keyword">continue</span>;</div><div class="line">		cnt++;</div><div class="line">		ans += dp[nstate][v] + edges[i].val;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span>(!cnt) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">	ans = (<span class="keyword">double</span>) (ans + <span class="number">5</span>)/(<span class="keyword">double</span>)cnt;</div><div class="line">	dp[state][u] = ans;</div><div class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> T;sa(T);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> kas = <span class="number">1</span>; kas &lt;= T; kas++)&#123;</div><div class="line">		<span class="keyword">int</span> n, m;sa(n);sa(m);</div><div class="line">		<span class="keyword">int</span> x, y, w;</div><div class="line">		init();</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</div><div class="line">			sa(x);sa(y);sa(w);</div><div class="line">			addedge(x, y, w);</div><div class="line">			addedge(y, x, w);</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">memset</span>(vis, <span class="literal">false</span>, <span class="keyword">sizeof</span>(vis));</div><div class="line">		<span class="built_in">memset</span>(dp, <span class="number">0</span>, <span class="keyword">sizeof</span>(dp));</div><div class="line">		t = (<span class="number">1</span> &lt;&lt; n) - <span class="number">1</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</div><div class="line">			vis[t][i] = <span class="literal">true</span>;</div><div class="line">		&#125;</div><div class="line">		dfs(<span class="number">1</span>, <span class="number">0</span>);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d: %.10f\n"</span>, kas, dp[<span class="number">1</span>][<span class="number">0</span>]);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="C-Batting-Practice-概率-公式推导"><a href="#C-Batting-Practice-概率-公式推导" class="headerlink" title="C - Batting Practice(概率+公式推导)"></a>C - Batting Practice(概率+公式推导)</h2><h3 id="题意：-1"><a href="#题意：-1" class="headerlink" title="题意："></a>题意：</h3><p>已知一枚子弹命中概率，求连续$n$次不命中或连续$m$次命中时发射子弹数的期望。</p>
<h3 id="分析：-2"><a href="#分析：-2" class="headerlink" title="分析："></a>分析：</h3><p>较为复杂的公式推导，晚些把公式$markdown$上来了，占个坑。<br>！！！注意精度问题！！！</p>
<h3 id="代码：-2"><a href="#代码：-2" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">    &gt; File Name: C.cpp</div><div class="line">    &gt; Author: jiangyuzhu</div><div class="line">    &gt; Mail: 834138558@qq.com </div><div class="line">    &gt; Created Time: 2016/7/24 22:20:39</div><div class="line"> ************************************************************************/</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">quick_pow</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">int</span> a)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">double</span> ans = <span class="number">1.0</span>;</div><div class="line">	<span class="keyword">for</span>(; a; a &gt;&gt;= <span class="number">1</span>, x = x * <span class="number">1.0</span> * x)&#123;</div><div class="line">		<span class="keyword">if</span>(a &amp; <span class="number">1</span>) ans = ans * <span class="number">1.0</span> * x;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> T;<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> kas = <span class="number">1</span>; kas &lt;= T; kas++)&#123;</div><div class="line">		<span class="keyword">double</span> p;<span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;p);</div><div class="line">		<span class="keyword">int</span> k1, k2;<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;k1, &amp;k2);</div><div class="line">		<span class="keyword">double</span> ans;</div><div class="line">		<span class="keyword">if</span>(p == <span class="number">1</span>)&#123;</div><div class="line">			ans = k2;</div><div class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(p == <span class="number">0</span>)&#123;</div><div class="line">			ans = k1;</div><div class="line">		&#125;<span class="keyword">else</span>&#123;</div><div class="line">			<span class="keyword">double</span> q = <span class="number">1</span> - p;</div><div class="line">			<span class="keyword">double</span> xx = (<span class="number">1.0</span> - <span class="built_in">pow</span>(q, k1 - <span class="number">1</span>)) / p;</div><div class="line">			<span class="keyword">double</span> yy = (<span class="number">1.0</span> - <span class="built_in">pow</span>(p, k2 - <span class="number">1</span>)) / q;</div><div class="line">			<span class="keyword">double</span> a0 = (xx * yy * q + yy) /(<span class="number">1.0</span> - xx * yy * p * q) ;</div><div class="line">			<span class="keyword">double</span> b0 = xx * (p * a0 + <span class="number">1.0</span>);</div><div class="line">			ans = a0 * p + q * b0 + <span class="number">1.0</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d: %.10f\n"</span>, kas, ans);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="D-Race-to-1-Again-概率dp"><a href="#D-Race-to-1-Again-概率dp" class="headerlink" title="D - Race to 1 Again(概率dp)"></a>D - Race to 1 Again(概率dp)</h2><h3 id="题意：-2"><a href="#题意：-2" class="headerlink" title="题意："></a>题意：</h3><p>给定一个数，每次可以选择数的一个因子，用该除上这个因子得到一个新的数，问该数变为1的期望操作次数为多少？</p>
<h3 id="分析：-3"><a href="#分析：-3" class="headerlink" title="分析："></a>分析：</h3><p>设$x$有因子$cnt$个，那么$dp[x]=1+dp[x]/cnt+dp[1]/cnt+…$<br>化简后为$dp[x]=(cnt+tot)/(cnt-1)$<br>其中$tot$为因数的$dp$之和。</p>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码:"></a>代码:</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">5</span>;</div><div class="line"><span class="keyword">double</span> dp[maxn];</div><div class="line"><span class="keyword">bool</span> vis[maxn];</div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">gao</span><span class="params">(<span class="keyword">int</span> x)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(vis[x]) <span class="keyword">return</span> dp[x];</div><div class="line">	vis[x] = <span class="literal">true</span>;</div><div class="line">	<span class="keyword">int</span> cnt = <span class="number">2</span>;</div><div class="line">	dp[x] = dp[<span class="number">1</span>];</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i * i &lt;= x; i++)&#123;</div><div class="line">		<span class="keyword">if</span>(x % i) <span class="keyword">continue</span>;</div><div class="line">		dp[x] += gao(i);</div><div class="line">		cnt++;</div><div class="line">		<span class="keyword">if</span>(i * i != x)&#123;</div><div class="line">			cnt++;</div><div class="line">			dp[x] += gao(x / i);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	dp[x] = (dp[x] + cnt) / (<span class="keyword">double</span>)(cnt - <span class="number">1</span>);</div><div class="line">	<span class="keyword">return</span> dp[x];</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line">&#123;	</div><div class="line">	<span class="keyword">int</span> T;<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</div><div class="line">	<span class="built_in">memset</span>(vis, <span class="literal">false</span>, <span class="keyword">sizeof</span>(vis));</div><div class="line">	dp[<span class="number">1</span>] = <span class="number">0</span>;vis[<span class="number">1</span>] = <span class="literal">true</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> tt = <span class="number">1</span>; tt &lt;= T; tt++)&#123;</div><div class="line">		<span class="keyword">int</span> n;<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d: %.10f\n"</span>,tt, gao(n));</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="E-Power-of-Matrix-二分-矩阵快速幂"><a href="#E-Power-of-Matrix-二分-矩阵快速幂" class="headerlink" title="E - Power of Matrix(二分+矩阵快速幂)"></a>E - Power of Matrix(二分+矩阵快速幂)</h2><h3 id="题意：-3"><a href="#题意：-3" class="headerlink" title="题意："></a>题意：</h3><p>给定$n \times n$矩阵A，求$A+A^2+A^3+…+A^k$</p>
<h3 id="分析：-4"><a href="#分析：-4" class="headerlink" title="分析："></a>分析：</h3><p>QAQ清楚的记得线代老师讲过这个问题，构造出(都是$2 \times 2$ 的矩阵，不知为何换行显示不出来QAQ)<br>$B= \begin{bmatrix} A &amp; E \ 0 &amp; E \ \end{bmatrix}$<br>$B^k = \begin{bmatrix} A^k &amp; E + A + A ^ 2 + A^3+…+A^K  \ 0 &amp; E \ \end{bmatrix}$<br>还有一个方法：<strong>倍增法</strong><br>设 $f[k] = A + A^1 + … + A^k$<br>$若k为奇数$，<br>$f[k] = (A + A^1 + … + A^(k/2)) + (A + A^1 + … + A^(k/2)) \times A^(k/2) + A^k$<br>$ = f(k/2)\times (E+A^{k/2})+A^k$<br>$若k为偶数$，<br>$f[k] = (A + A^1 + … + A^(k/2)) + (A + A^1 + … + A^(k/2)) \times A^(k/2) $<br>$= f(k/2) \times (E+A^{k/2})$<br>递归下去即可~</p>
<h3 id="代码：-3"><a href="#代码：-3" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">    &gt; File Name: E.cpp</div><div class="line">    &gt; Author: jiangyuzhu</div><div class="line">    &gt; Mail: 834138558@qq.com </div><div class="line">    &gt; Created Time: 2016/7/25 18:14:53</div><div class="line"> ************************************************************************/</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">40</span> + <span class="number">5</span>, mod = <span class="number">10</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">40</span> + <span class="number">5</span>;</div><div class="line"><span class="keyword">int</span> n, k;</div><div class="line"><span class="keyword">struct</span> Matrix</div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> row,cal;</div><div class="line">	<span class="keyword">int</span> m[N][N];</div><div class="line">&#125;;</div><div class="line"><span class="function">Matrix <span class="title">init</span><span class="params">(Matrix a, <span class="keyword">int</span> t)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.row; i++)</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; a.cal; j++)</div><div class="line">            a.m[i][j] = t;</div><div class="line">	<span class="keyword">return</span> a;</div><div class="line">&#125;</div><div class="line"><span class="function">Matrix <span class="title">mul</span><span class="params">(Matrix a,Matrix b)</span></span></div><div class="line">&#123;</div><div class="line">    Matrix ans;</div><div class="line">    ans.row = a.row, ans.cal = b.cal;</div><div class="line">	ans = init(ans, <span class="number">0</span>);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.row; i++)</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; b.cal; j++)</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; a.cal; k++)</div><div class="line">                ans.m[i][j] = (ans.m[i][j] + a.m[i][k] * b.m[k][j])%mod;</div><div class="line">	<span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function">Matrix <span class="title">add</span><span class="params">(Matrix a,Matrix b)</span>  </span></div><div class="line">&#123;  </div><div class="line">    Matrix ans;  </div><div class="line">	ans.row = a.row, ans.cal = a.cal;</div><div class="line">	ans = init(ans, <span class="number">0</span>);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; a.row; i++)&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; a.cal; j++)&#123;</div><div class="line">			 ans.m[i][j] = (a.m[i][j] + b.m[i][j]) % mod; </div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">    <span class="keyword">return</span> ans;  </div><div class="line">&#125;  </div><div class="line"><span class="function">Matrix <span class="title">quick_pow</span><span class="params">(Matrix A, <span class="keyword">int</span> k)</span></span></div><div class="line">&#123;</div><div class="line">	Matrix I;</div><div class="line">	I.cal = I.row = n;</div><div class="line">    I = init(I, <span class="number">0</span>);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</div><div class="line">		I.m[i][i] = <span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line">    <span class="keyword">while</span>(k)&#123; </div><div class="line">		<span class="keyword">if</span>(k &amp; <span class="number">1</span>) I = mul(I, A);</div><div class="line">        A = mul(A, A);</div><div class="line">        k &gt;&gt;= <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">	<span class="keyword">return</span> I;</div><div class="line">&#125;</div><div class="line">Matrix E;</div><div class="line"><span class="function">Matrix <span class="title">gao</span><span class="params">(Matrix x, <span class="keyword">int</span> k)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(k == <span class="number">1</span>) <span class="keyword">return</span> x;</div><div class="line">	Matrix tmp;</div><div class="line">	tmp.cal = tmp.row = n;</div><div class="line">	tmp = init(tmp, <span class="number">0</span>);</div><div class="line">	tmp =  gao(x, k / <span class="number">2</span>);</div><div class="line">	<span class="comment">//tmp = mul(add(E, quick_pow(x, k / 2)), gao(x, k / 2));</span></div><div class="line">	tmp = add(tmp, mul(quick_pow(x, k / <span class="number">2</span>), tmp));</div><div class="line">	<span class="keyword">if</span>(k &amp; <span class="number">1</span>) tmp = add(tmp, quick_pow(x, k));</div><div class="line">	<span class="keyword">return</span> tmp;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;k) &amp;&amp; n)&#123;</div><div class="line">		E.cal = E.row = n;</div><div class="line">		E = init(E, <span class="number">0</span>);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</div><div class="line">			E.m[i][i] = <span class="number">1</span>;</div><div class="line">		&#125;</div><div class="line">		Matrix a;</div><div class="line">		a.row = a.cal = n;</div><div class="line">		a = init(a, <span class="number">0</span>);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)&#123;</div><div class="line">				<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a.m[i][j]);</div><div class="line">				a.m[i][j] %= mod;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span>(!k)&#123;</div><div class="line">			a = E;</div><div class="line">		&#125;<span class="keyword">else</span>  a = gao(a, k);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)&#123;</div><div class="line">				<span class="built_in">printf</span>(<span class="string">"%d%c"</span>, a.m[i][j], j == (n - <span class="number">1</span>)?<span class="string">'\n'</span>:<span class="string">' '</span>);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="F-Recurrences-矩阵快速幂"><a href="#F-Recurrences-矩阵快速幂" class="headerlink" title="F - Recurrences(矩阵快速幂)"></a>F - Recurrences(矩阵快速幂)</h2><h3 id="分析：-5"><a href="#分析：-5" class="headerlink" title="分析："></a>分析：</h3><p>$n$的大小很矩阵快速幂= =</p>
<h3 id="代码：-4"><a href="#代码：-4" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">    &gt; File Name: F.cpp</div><div class="line">    &gt; Author: jiangyuzhu</div><div class="line">    &gt; Mail: 834138558@qq.com </div><div class="line">    &gt; Created Time: 2016/7/25 15:06:54</div><div class="line"> ************************************************************************/</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">15</span> + <span class="number">5</span>;</div><div class="line"><span class="keyword">int</span> mod;</div><div class="line">ll a[maxn], f[maxn];</div><div class="line"><span class="keyword">int</span> d;</div><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">16</span>;</div><div class="line"><span class="keyword">struct</span> Matrix</div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> row,cal;</div><div class="line">    ll m[N][N];</div><div class="line">&#125;;</div><div class="line"><span class="function">Matrix <span class="title">init</span><span class="params">(Matrix a, <span class="keyword">int</span> t)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.row; i++)</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; a.cal; j++)</div><div class="line">            a.m[i][j] = t;</div><div class="line">	<span class="keyword">return</span> a;</div><div class="line">&#125;</div><div class="line"><span class="function">Matrix <span class="title">mul</span><span class="params">(Matrix a,Matrix b)</span></span></div><div class="line">&#123;</div><div class="line">    Matrix ans;</div><div class="line">    ans.row = a.row, ans.cal = b.cal;</div><div class="line">    ans = init(ans,<span class="number">0</span>);</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.row; i++)</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; b.cal; j++)</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; a.cal; k++)</div><div class="line">                ans.m[i][j] = (ans.m[i][j] + a.m[i][k] * b.m[k][j])%mod;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(Matrix A)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(n &lt;= d) <span class="keyword">return</span> f[n];</div><div class="line">    Matrix I;</div><div class="line">	n -= d;</div><div class="line">    I.row = d, I.cal = <span class="number">1</span>;</div><div class="line">    I = init(I, <span class="number">0</span>);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; d; i++)&#123;</div><div class="line">		I.m[i][<span class="number">0</span>] = f[d - i];</div><div class="line">	&#125;</div><div class="line">    <span class="keyword">while</span>(n)&#123; </div><div class="line">		<span class="keyword">if</span>(n &amp; <span class="number">1</span>) I = mul(A, I);</div><div class="line">        A = mul(A, A);</div><div class="line">        n &gt;&gt;= <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">	<span class="keyword">return</span> I.m[<span class="number">0</span>][<span class="number">0</span>];</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;d, &amp;n, &amp;mod) &amp;&amp;(n + d + mod))&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= d; i++) &#123;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;a[i]);</div><div class="line">			a[i] %= mod;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= d; i++)&#123;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;f[i]);</div><div class="line">			f[i] %= mod;</div><div class="line">		&#125;</div><div class="line">		Matrix A;</div><div class="line">		A.row = d, A.cal = d;</div><div class="line">	    A = init(A, <span class="number">0</span>);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; d; i++)&#123;</div><div class="line">			A.m[<span class="number">0</span>][i] = a[i + <span class="number">1</span>];</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; d; i++)&#123;</div><div class="line">			A.m[i][i - <span class="number">1</span>] = <span class="number">1</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, quick_pow(A));</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="H-Yet-another-Number-Sequence-矩阵快速幂"><a href="#H-Yet-another-Number-Sequence-矩阵快速幂" class="headerlink" title="H - Yet another Number Sequence(矩阵快速幂)"></a>H - Yet another Number Sequence(矩阵快速幂)</h2><h3 id="分析：-6"><a href="#分析：-6" class="headerlink" title="分析："></a>分析：</h3><p>裸矩阵快速幂</p>
<h3 id="代码-1"><a href="#代码-1" class="headerlink" title="代码:"></a>代码:</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">    &gt; File Name: H.cpp</div><div class="line">    &gt; Author: jiangyuzhu</div><div class="line">    &gt; Mail: 834138558@qq.com </div><div class="line">    &gt; Created Time: 2016/7/25 21:21:04</div><div class="line"> ************************************************************************/</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">int</span> mod;</div><div class="line"><span class="keyword">int</span> f[<span class="number">5</span>] = &#123;<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">1000</span>, <span class="number">10000</span>&#125;;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">2</span>;</div><div class="line"><span class="keyword">int</span> a, b, m;</div><div class="line">ll n;</div><div class="line"><span class="keyword">struct</span> Matrix</div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> row,cal;</div><div class="line">	<span class="keyword">int</span> m[N][N];</div><div class="line">&#125;;</div><div class="line"><span class="function">Matrix <span class="title">init</span><span class="params">(Matrix a, <span class="keyword">int</span> t)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.row; i++)</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; a.cal; j++)</div><div class="line">            a.m[i][j] = t;</div><div class="line">	<span class="keyword">return</span> a;</div><div class="line">&#125;</div><div class="line"><span class="function">Matrix <span class="title">mul</span><span class="params">(Matrix a,Matrix b)</span></span></div><div class="line">&#123;</div><div class="line">    Matrix ans;</div><div class="line">    ans.row = a.row, ans.cal = b.cal;</div><div class="line">	ans = init(ans, <span class="number">0</span>);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.row; i++)</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; b.cal; j++)</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; a.cal; k++)</div><div class="line">                ans.m[i][j] = (ans.m[i][j] + a.m[i][k] * b.m[k][j])%mod;</div><div class="line">	<span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function">Matrix <span class="title">add</span><span class="params">(Matrix a,Matrix b)</span>  </span></div><div class="line">&#123;  </div><div class="line">    Matrix ans;  </div><div class="line">	ans.row = a.row, ans.cal = a.cal;</div><div class="line">	ans = init(ans, <span class="number">0</span>);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; a.row; i++)&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; a.cal; j++)&#123;</div><div class="line">			 ans.m[i][j] = (a.m[i][j] + b.m[i][j]) % mod; </div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">    <span class="keyword">return</span> ans;  </div><div class="line">&#125;  </div><div class="line"><span class="function">Matrix <span class="title">quick_pow</span><span class="params">(Matrix A, ll k)</span></span></div><div class="line">&#123;</div><div class="line">	Matrix I;</div><div class="line">	I.cal = <span class="number">1</span>;I.row = <span class="number">2</span>;</div><div class="line">    I = init(I, <span class="number">0</span>);</div><div class="line">	I.m[<span class="number">0</span>][<span class="number">0</span>] = b;</div><div class="line">	I.m[<span class="number">1</span>][<span class="number">0</span>] = a;</div><div class="line">    <span class="keyword">while</span>(k)&#123; </div><div class="line">		<span class="keyword">if</span>(k &amp; <span class="number">1</span>) I = mul(A, I);</div><div class="line">        A = mul(A, A);</div><div class="line">        k &gt;&gt;= <span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> I;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> T;<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</div><div class="line">	<span class="keyword">while</span>(T--)&#123;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d%lld%d"</span>, &amp;a, &amp;b, &amp;n, &amp;m);</div><div class="line">		mod = f[m];</div><div class="line">		<span class="keyword">if</span>(n == <span class="number">0</span>)&#123;</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, a % mod);</div><div class="line">			<span class="keyword">continue</span>;</div><div class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(n == <span class="number">1</span>)&#123;</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, b % mod);</div><div class="line">			<span class="keyword">continue</span>;</div><div class="line">		&#125;</div><div class="line">		Matrix A;</div><div class="line">		A.row = A.cal = <span class="number">2</span>;</div><div class="line">		A = init(A, <span class="number">0</span>);</div><div class="line">		A.m[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;A.m[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">1</span>;A.m[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">		A = quick_pow(A, n - <span class="number">1</span>);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, A.m[<span class="number">0</span>][<span class="number">0</span>] % mod);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="I-棋盘游戏-二分图匹配"><a href="#I-棋盘游戏-二分图匹配" class="headerlink" title="I - 棋盘游戏(二分图匹配)"></a>I - 棋盘游戏(二分图匹配)</h2><h3 id="分析：-7"><a href="#分析：-7" class="headerlink" title="分析："></a>分析：</h3><p>二分图匹配经典建图方式，每删除一条边，跑一遍二分图匹配，本以为会T，结果数据水水的 = =</p>
<h3 id="代码：-5"><a href="#代码：-5" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">    &gt; File Name: I.cpp</div><div class="line">    &gt; Author: jiangyuzhu</div><div class="line">    &gt; Mail: 834138558@qq.com </div><div class="line">    &gt; Created Time: 2016/7/26 9:39:23</div><div class="line"> ************************************************************************/</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;p;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> sa(n) scanf(<span class="meta-string">"%d"</span>, &amp;(n))</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e2</span> + <span class="number">5</span>, oo = <span class="number">0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">int</span> match[maxn];</div><div class="line"><span class="keyword">int</span> n, m, k;</div><div class="line"><span class="keyword">bool</span> used[maxn];</div><div class="line"><span class="keyword">bool</span> mat[maxn][maxn];</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x)</span><span class="comment">//x -&gt; i</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</div><div class="line">        <span class="keyword">if</span> (!mat[x][i]) <span class="keyword">continue</span>;</div><div class="line">        <span class="keyword">if</span> (used[i]) <span class="keyword">continue</span>;</div><div class="line">        used[i] = <span class="literal">true</span>;  </div><div class="line">        <span class="keyword">if</span> (match[i] == <span class="number">-1</span>|| dfs(match[i]))&#123;</div><div class="line">            match[i] = x;</div><div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">       &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">xiong</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</div><div class="line">    <span class="built_in">memset</span>(match, <span class="number">-1</span>, <span class="keyword">sizeof</span>(match));</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</div><div class="line">        <span class="built_in">memset</span>(used, <span class="literal">false</span>, <span class="keyword">sizeof</span>(used));</div><div class="line">        ans += dfs(i);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="built_in">vector</span>&lt;p&gt;v;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> kas = <span class="number">1</span>;</div><div class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;n, &amp;m, &amp;k))&#123;</div><div class="line">		<span class="keyword">int</span> x, y;</div><div class="line">		v.clear();</div><div class="line">		<span class="built_in">memset</span>(mat, <span class="literal">false</span>, <span class="keyword">sizeof</span>(mat));</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++)&#123;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;x, &amp;y);</div><div class="line">			mat[x - <span class="number">1</span>][y - <span class="number">1</span>] = <span class="literal">true</span>;</div><div class="line">			v.push_back(p(x - <span class="number">1</span>, y - <span class="number">1</span>));</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">int</span> ans = xiong();</div><div class="line">		<span class="keyword">int</span> cnt = <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; v.size(); i++)&#123;</div><div class="line">			x = v[i].first, y = v[i].second;</div><div class="line">			mat[x][y] = <span class="literal">false</span>;</div><div class="line">			<span class="keyword">if</span>(xiong() &lt; ans) cnt++;</div><div class="line">			mat[x][y] = <span class="literal">true</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"Board %d have %d important blanks for %d chessmen.\n"</span>, kas++, cnt, ans);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="J-Strategic-Game-最少顶点覆盖问题"><a href="#J-Strategic-Game-最少顶点覆盖问题" class="headerlink" title="J - Strategic Game(最少顶点覆盖问题)"></a>J - Strategic Game(最少顶点覆盖问题)</h2><h3 id="分析：-8"><a href="#分析：-8" class="headerlink" title="分析："></a>分析：</h3><p>最少顶点覆盖问题，原图为二分图，直接利用<strong>最少点覆盖等于二分图最大匹配除以2</strong></p>
<h3 id="代码：-6"><a href="#代码：-6" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">5500</span> + <span class="number">5</span>, oo = <span class="number">0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">int</span> match[maxn];</div><div class="line"><span class="keyword">bool</span> used[maxn];</div><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="keyword">int</span> head[maxn];</div><div class="line"><span class="keyword">int</span> tot;</div><div class="line"><span class="keyword">struct</span> EDGE&#123;</div><div class="line">	<span class="keyword">int</span> to, next;</div><div class="line">&#125;edge[maxn * maxn];</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	tot = <span class="number">0</span>;</div><div class="line">	<span class="built_in">memset</span>(head, <span class="number">-1</span>, <span class="keyword">sizeof</span>(head));</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v)</span></span></div><div class="line">&#123;</div><div class="line">	edge[tot].to = v;</div><div class="line">	edge[tot].next = head[u];</div><div class="line">	head[u] = tot++;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x)</span><span class="comment">//x -&gt; i</span></span></div><div class="line">&#123;</div><div class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> i = head[x]; i != <span class="number">-1</span>; i = edge[i].next)&#123;</div><div class="line">		<span class="keyword">int</span> v = edge[i].to;</div><div class="line">		<span class="keyword">if</span>(used[v]) <span class="keyword">continue</span>;</div><div class="line">		used[v] = <span class="literal">true</span>;</div><div class="line">		<span class="keyword">if</span>(match[v] == <span class="number">-1</span> || dfs(match[v]))&#123;</div><div class="line">			match[v] = x;</div><div class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">		&#125;</div><div class="line">   &#125;</div><div class="line">   <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">xiong</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</div><div class="line">    <span class="built_in">memset</span>(match, <span class="number">-1</span>, <span class="keyword">sizeof</span>(match));</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</div><div class="line">        <span class="built_in">memset</span>(used, <span class="literal">false</span>, <span class="keyword">sizeof</span>(used));</div><div class="line">        ans += dfs(i);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> m;</div><div class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n))&#123;</div><div class="line">		init();</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</div><div class="line">			<span class="keyword">int</span> x, y;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">			getchar();getchar();<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;m);getchar();</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++)&#123;</div><div class="line">				<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;y);</div><div class="line">				addedge(y, x + n);</div><div class="line">				addedge(x, y + n);</div><div class="line">			&#125;</div><div class="line">		&#125;	</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, xiong() / <span class="number">2</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="N-I-Hate-It-线段树"><a href="#N-I-Hate-It-线段树" class="headerlink" title="N - I Hate It(线段树)"></a>N - I Hate It(线段树)</h2><h3 id="分析：-9"><a href="#分析：-9" class="headerlink" title="分析："></a>分析：</h3><p>线段树单点更新，区间查询</p>
<h3 id="代码：-7"><a href="#代码：-7" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span>  </span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span>  </span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;  </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1</span>&lt;&lt;<span class="number">21</span>;  </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF=<span class="number">0x3fffffff</span>;  </div><div class="line"><span class="keyword">int</span> Max=<span class="number">0</span>;  </div><div class="line"><span class="keyword">int</span> mid;  </div><div class="line"><span class="keyword">struct</span> Node  </div><div class="line">&#123;  </div><div class="line">    <span class="keyword">int</span> l,r;<span class="comment">//左孩子，右孩子  </span></div><div class="line">    <span class="keyword">int</span> value;  </div><div class="line">&#125;N[maxn];  </div><div class="line"><span class="keyword">int</span> p[<span class="number">200005</span>];<span class="comment">//记录标号  </span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> left ,<span class="keyword">int</span> right)</span><span class="comment">//区间[left,right],节点标号i  </span></span></div><div class="line">&#123;  </div><div class="line">    N[i].l=left;  </div><div class="line">    N[i].r=right;  </div><div class="line">    N[i].value=<span class="number">0</span>;  </div><div class="line">    <span class="keyword">if</span>(left==right) &#123;  </div><div class="line">        p[left]=i;  </div><div class="line">        <span class="keyword">return</span>;  </div><div class="line">    &#125;  </div><div class="line">    mid=(left+right)&gt;&gt;<span class="number">1</span>;  </div><div class="line">    build(i&lt;&lt;<span class="number">1</span>,left,mid);  </div><div class="line">    build(<span class="number">1</span>+(i&lt;&lt;<span class="number">1</span>),mid+<span class="number">1</span>,right);  </div><div class="line">&#125;  </div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> i)</span><span class="comment">//从下往上更新单节点  </span></span></div><div class="line">&#123;  </div><div class="line">    <span class="keyword">if</span>(i==<span class="number">1</span>) <span class="keyword">return</span> ;  </div><div class="line">    <span class="keyword">int</span> pi=i/<span class="number">2</span>;  </div><div class="line">    <span class="keyword">int</span> left=pi&lt;&lt;<span class="number">1</span>;  </div><div class="line">    <span class="keyword">int</span> right=(pi&lt;&lt;<span class="number">1</span>)+<span class="number">1</span>;  </div><div class="line">    N[pi].value=max(N[left].value,N[right].value);  </div><div class="line">    update(i/<span class="number">2</span>);  </div><div class="line">&#125;  </div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> left,<span class="keyword">int</span> right)</span><span class="comment">//从上往下查询节点  </span></span></div><div class="line">&#123;  </div><div class="line">    <span class="keyword">if</span>(N[i].l==left&amp;&amp;N[i].r==right)  &#123;  </div><div class="line">        Max=max(N[i].value,Max);  </div><div class="line">        <span class="keyword">return</span>;  </div><div class="line">    &#125;  </div><div class="line">    i&lt;&lt;=<span class="number">1</span>;  </div><div class="line">    <span class="keyword">if</span>(N[i].r&gt;=left&amp;&amp;N[i].r&gt;=right) query(i,left,right);  </div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(N[i].r&gt;=left&amp;&amp;N[i].r&lt;=right) query(i,left,N[i].r);  </div><div class="line">    i++;  </div><div class="line">    <span class="keyword">if</span>(N[i].l&lt;=right&amp;&amp;N[i].l&lt;=left) query(i,left,right);  </div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(N[i].l&lt;=right&amp;&amp;N[i].l&gt;=left) query(i,N[i].l,right);  </div><div class="line">&#125;  </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span>  </span></div><div class="line">&#123;  </div><div class="line">    <span class="keyword">int</span> n,m;  </div><div class="line">    <span class="keyword">int</span> A,B;  </div><div class="line">    <span class="keyword">char</span> c[<span class="number">2</span>];  </div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m)==<span class="number">2</span>)  &#123;  </div><div class="line">         build(<span class="number">1</span>,<span class="number">1</span>,n);  </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)  &#123;  </div><div class="line">             <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp; N[p[i]].value);  </div><div class="line">             update(p[i]);  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++) &#123;  </div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%s%d%d"</span>,c,&amp;A,&amp;B);  </div><div class="line">            <span class="keyword">if</span>(c[<span class="number">0</span>]==<span class="string">'Q'</span>) &#123;  </div><div class="line">                Max=<span class="number">0</span>;  </div><div class="line">                query(<span class="number">1</span>,A,B);  </div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,Max);  </div><div class="line">            &#125;  </div><div class="line">            <span class="keyword">else</span>  &#123;  </div><div class="line">                N[p[A]].value=B;  </div><div class="line">                update(p[A]);  </div><div class="line">            &#125;  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="O-敌兵布阵-zkw线段树"><a href="#O-敌兵布阵-zkw线段树" class="headerlink" title="O - 敌兵布阵(zkw线段树)"></a>O - 敌兵布阵(zkw线段树)</h2><h3 id="分析：-10"><a href="#分析：-10" class="headerlink" title="分析："></a>分析：</h3><p>单点更新，区间查询，人生第一道zkw线段树，有趣！</p>
<h3 id="代码：-8"><a href="#代码：-8" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">5</span>;</div><div class="line"><span class="keyword">int</span> M;</div><div class="line"><span class="keyword">int</span> T[maxn &lt;&lt; <span class="number">2</span>];</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> n)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">for</span>(M = <span class="number">1</span>; M &lt;= n + <span class="number">1</span>; M &lt;&lt;= <span class="number">1</span>);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = M + <span class="number">1</span>; i &lt;= M + n; i++) <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T[i]);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = M - <span class="number">1</span>; i; i--)&#123;</div><div class="line">		T[i] = T[i &lt;&lt; <span class="number">1</span>] + T[i &lt;&lt; <span class="number">1</span> | <span class="number">1</span>];</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> x)</span></span></div><div class="line">&#123;</div><div class="line">	T[a += M] += x;</div><div class="line">	<span class="keyword">for</span>(a &gt;&gt;= <span class="number">1</span>;a;a &gt;&gt;= <span class="number">1</span>)&#123;</div><div class="line">		T[a] = T[a &lt;&lt; <span class="number">1</span>] + T[a &lt;&lt; <span class="number">1</span>|<span class="number">1</span>];</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="function">ll <span class="title">query</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span></div><div class="line">&#123;</div><div class="line">	l = l + M - <span class="number">1</span>, r = r + M + <span class="number">1</span>;</div><div class="line">	ll ans = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(; l^r^<span class="number">1</span>; l &gt;&gt;= <span class="number">1</span>, r &gt;&gt;= <span class="number">1</span>)&#123;</div><div class="line">		<span class="keyword">if</span>(~l &amp; <span class="number">1</span>) ans += T[l ^ <span class="number">1</span>];</div><div class="line">		<span class="keyword">if</span>(r &amp; <span class="number">1</span>) ans += T[r ^ <span class="number">1</span>];</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="keyword">char</span> s[<span class="number">10</span>];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line">&#123;	</div><div class="line">	<span class="keyword">int</span> kas; <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;kas);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> tt = <span class="number">1</span>; tt &lt;= kas; tt++)&#123;</div><div class="line">		<span class="keyword">int</span> n;<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">		build(n);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d:\n"</span>, tt);</div><div class="line">		<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%s"</span>, s))&#123;</div><div class="line">			<span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">'E'</span>) <span class="keyword">break</span>;</div><div class="line">			<span class="keyword">int</span> x, y;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;x, &amp;y);</div><div class="line">			<span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">'A'</span>) add(x, y);</div><div class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">'S'</span>) add(x, -y);</div><div class="line">			<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, query(x, y));</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="P-Vases-and-Flowers-线段树"><a href="#P-Vases-and-Flowers-线段树" class="headerlink" title="P - Vases and Flowers(线段树)"></a>P - Vases and Flowers(线段树)</h2><h3 id="题意：-4"><a href="#题意：-4" class="headerlink" title="题意："></a>题意：</h3><p>有$n$个花瓶，标号$0到n-1$，每次输入$k,A,B$，有两种操作：</p>
<ol>
<li>$k=1,$ 从标号为$A$的花瓶开始顺序放$B$朵花，若花瓶非空，则跳过。问初始放花的花瓶和最后一个放花的花瓶的序号。可以不放完。</li>
<li>$k=2$，标号为$A到B$的花瓶清空。问清空了多少个原本非空的花瓶。</li>
</ol>
<h3 id="分析：-11"><a href="#分析：-11" class="headerlink" title="分析："></a>分析：</h3><p>线段树记录区间空花瓶的个数。<br>最初想法是：每次都更新到<code>tree[i].cnt == tree[i].r - tree[i].l + 1</code>即该区间内花瓶皆空，$ls，rs$必为这些区间的端点，比较一下即可。但是对于特殊情况，每次都要更新到叶节点，就变成了暴力。。。。<br>换个思路，我们可以先计算出$A$之前所有空花瓶的个数$cnt$，那么第$cnt+1$个空花瓶即为$ls$，同理第$cnt + B$即为$rs$，找第$cnt$个花瓶就利用线段树查询时递归的性质。<br>操作二直接区间更新，用一个全局变量记录区间内空花瓶个数。</p>
<h3 id="代码：-9"><a href="#代码：-9" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">    &gt; File Name: P.cpp</div><div class="line">    &gt; Author: jiangyuzhu</div><div class="line">    &gt; Mail: 834138558@qq.com </div><div class="line">    &gt; Created Time: 2016/9/5 19:35:17</div><div class="line"> ************************************************************************/</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">5e4</span> + <span class="number">5</span>;</div><div class="line"><span class="keyword">struct</span> Tree&#123;</div><div class="line">	<span class="keyword">int</span> l, r;</div><div class="line">	<span class="keyword">int</span> flag;</div><div class="line">	<span class="keyword">int</span> cnt;</div><div class="line">&#125;tree[maxn &lt;&lt; <span class="number">2</span>];</div><div class="line"><span class="keyword">int</span> ls, rs, cnt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_up</span><span class="params">(<span class="keyword">int</span> i)</span></span></div><div class="line">&#123;</div><div class="line">	tree[i].cnt = tree[i &lt;&lt; <span class="number">1</span>].cnt + tree[i &lt;&lt; <span class="number">1</span>| <span class="number">1</span>].cnt;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_down</span><span class="params">(<span class="keyword">int</span> i)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(tree[i].flag != <span class="number">-1</span>)&#123;</div><div class="line">		<span class="keyword">if</span>(tree[i].flag == <span class="number">0</span>)&#123;</div><div class="line">			tree[i &lt;&lt; <span class="number">1</span>].cnt = tree[i &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].cnt = <span class="number">0</span>;</div><div class="line">			tree[i &lt;&lt; <span class="number">1</span>].flag = tree[i &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].flag = <span class="number">0</span>;</div><div class="line">		&#125;<span class="keyword">else</span>&#123;</div><div class="line">			tree[i &lt;&lt; <span class="number">1</span>].cnt = tree[i &lt;&lt; <span class="number">1</span>].flag = tree[i &lt;&lt; <span class="number">1</span>].r - tree[i &lt;&lt; <span class="number">1</span>].l + <span class="number">1</span>;;</div><div class="line">			tree[i &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].cnt = tree[i &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].flag  = tree[i &lt;&lt; <span class="number">1</span> |<span class="number">1</span>].r - tree[i &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].l + <span class="number">1</span>;</div><div class="line">		&#125;</div><div class="line">		tree[i].flag = <span class="number">-1</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> L, <span class="keyword">int</span> R)</span></span></div><div class="line">&#123;</div><div class="line">    tree[i] = (Tree)&#123;L, R, <span class="number">-1</span>, R - L + <span class="number">1</span>&#125;;</div><div class="line">	<span class="keyword">if</span>(L == R) <span class="keyword">return</span>;</div><div class="line">	<span class="keyword">int</span> mid = L + R &gt;&gt; <span class="number">1</span>;</div><div class="line">	build(i &lt;&lt; <span class="number">1</span>, L, mid);</div><div class="line">	build(i &lt;&lt; <span class="number">1</span>|<span class="number">1</span>, mid + <span class="number">1</span>, R);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> L, <span class="keyword">int</span> R)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(tree[i].l &gt;= L &amp;&amp; tree[i].r &lt;= R) <span class="keyword">return</span> tree[i].cnt;</div><div class="line">	push_down(i);</div><div class="line">	<span class="keyword">int</span> mid = tree[i].l + tree[i].r &gt;&gt; <span class="number">1</span>;</div><div class="line">	<span class="keyword">if</span>(mid &gt;= R) <span class="keyword">return</span> query(i &lt;&lt; <span class="number">1</span>, L, R);</div><div class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(mid &lt; L) <span class="keyword">return</span> query(i &lt;&lt; <span class="number">1</span>|<span class="number">1</span>, L, R);</div><div class="line">	<span class="keyword">else</span> <span class="keyword">return</span>	query(i &lt;&lt; <span class="number">1</span>, L, mid) + query(i &lt;&lt; <span class="number">1</span> | <span class="number">1</span>, mid + <span class="number">1</span>, R);</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> ans;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> L, <span class="keyword">int</span> R, <span class="keyword">int</span> k)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(tree[i].l &gt;= L &amp;&amp; tree[i].r &lt;= R)&#123;</div><div class="line">		<span class="keyword">if</span>(k) ans += tree[i].r - tree[i].l + <span class="number">1</span> - tree[i].cnt;</div><div class="line">		tree[i].cnt = (R - L + <span class="number">1</span>) * k;</div><div class="line">		tree[i].flag = tree[i].cnt;</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	push_down(i);</div><div class="line">	<span class="keyword">int</span> mid = tree[i].l + tree[i].r &gt;&gt; <span class="number">1</span>;</div><div class="line">	<span class="keyword">if</span>(mid &gt;= R) update(i &lt;&lt; <span class="number">1</span>, L, R, k);</div><div class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(mid &lt; L) update(i &lt;&lt; <span class="number">1</span>|<span class="number">1</span>, L, R, k);</div><div class="line">	<span class="keyword">else</span>&#123;</div><div class="line">		update(i &lt;&lt; <span class="number">1</span>, L, mid, k);</div><div class="line">		update(i &lt;&lt; <span class="number">1</span> | <span class="number">1</span>, mid + <span class="number">1</span>, R, k);</div><div class="line">	&#125;</div><div class="line">	push_up(i);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">gao</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> cnt)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(tree[i].l == tree[i].r) <span class="keyword">return</span> tree[i].l;</div><div class="line">	push_down(i);</div><div class="line">	<span class="keyword">if</span>(cnt &gt; tree[i &lt;&lt; <span class="number">1</span>].cnt) <span class="keyword">return</span> gao(i &lt;&lt; <span class="number">1</span> | <span class="number">1</span>, cnt - tree[i &lt;&lt; <span class="number">1</span>].cnt);</div><div class="line">	<span class="keyword">else</span> <span class="keyword">return</span> gao(i &lt;&lt; <span class="number">1</span>, cnt);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> T;<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</div><div class="line">	<span class="keyword">while</span>(T--)&#123;</div><div class="line">		<span class="keyword">int</span> n, m;<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m);</div><div class="line">		build(<span class="number">1</span>, <span class="number">0</span>, n - <span class="number">1</span>);</div><div class="line">		<span class="keyword">int</span> k, A, B;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;k, &amp;A, &amp;B);</div><div class="line">			<span class="keyword">if</span>(k == <span class="number">1</span>)&#123;</div><div class="line">				<span class="keyword">int</span> cnt1 = query(<span class="number">1</span>, A, n - <span class="number">1</span>);</div><div class="line">				<span class="keyword">if</span>(cnt1 == <span class="number">0</span>)&#123;</div><div class="line">					<span class="built_in">puts</span>(<span class="string">"Can not put any one."</span>);</div><div class="line">					<span class="keyword">continue</span>;</div><div class="line">				&#125;</div><div class="line">				<span class="keyword">int</span> ls = gao(<span class="number">1</span>, tree[<span class="number">1</span>].cnt - cnt1 + <span class="number">1</span>);</div><div class="line">				<span class="keyword">int</span> rs = gao(<span class="number">1</span>, tree[<span class="number">1</span>].cnt - cnt1 + min(cnt1, B));</div><div class="line">				update(<span class="number">1</span>, ls, rs, <span class="number">0</span>);</div><div class="line">				<span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, ls, rs);</div><div class="line">			&#125;<span class="keyword">else</span>&#123;</div><div class="line">				ans = <span class="number">0</span>;</div><div class="line">				update(<span class="number">1</span>, A, B, <span class="number">1</span>);</div><div class="line">				<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Q-Jungle-Roads-最小生成树"><a href="#Q-Jungle-Roads-最小生成树" class="headerlink" title="Q - Jungle Roads(最小生成树)"></a>Q - Jungle Roads(最小生成树)</h2><h3 id="分析：-12"><a href="#分析：-12" class="headerlink" title="分析："></a>分析：</h3><p>裸最小生成树。<br>注意</p>
<blockquote>
<p>除了cin&gt;&gt;之外，其他函数都不会忽略第一个有效字符之前的字符,也就是会读取之前输入残留的换行符\n。</p>
</blockquote>
<h3 id="代码：-10"><a href="#代码：-10" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100</span> + <span class="number">5</span>, maxm = <span class="number">900</span> + <span class="number">6</span>;</div><div class="line"><span class="keyword">struct</span> EDGE&#123;</div><div class="line">	<span class="keyword">int</span> from, to, val;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> EDGE&amp; a) <span class="keyword">const</span>&#123;</div><div class="line">		<span class="keyword">return</span> val &lt; a.val;</div><div class="line">	&#125;</div><div class="line">&#125;edge[maxm];</div><div class="line"><span class="keyword">int</span> pa[maxn];</div><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="keyword">int</span> tot;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n)</span></span></div><div class="line">&#123;</div><div class="line">	tot = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++) pa[i] = i;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> <span class="number">_f</span>ind(<span class="keyword">int</span> x)</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(x == pa[x]) <span class="keyword">return</span> x;</div><div class="line">	<span class="keyword">return</span> pa[x] = <span class="number">_f</span>ind(pa[x]);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">unit</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> ra = <span class="number">_f</span>ind(a), rb = <span class="number">_f</span>ind(b);</div><div class="line">	<span class="keyword">if</span>(ra == rb) <span class="keyword">return</span>;</div><div class="line">	pa[rb] = ra;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">kruskal</span><span class="params">(<span class="keyword">int</span> n)</span></span></div><div class="line">&#123;</div><div class="line">	sort(edge, edge + tot);</div><div class="line">	<span class="keyword">int</span> ans = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tot; i++)&#123;</div><div class="line">		<span class="keyword">int</span> u = edge[i].from;</div><div class="line">		<span class="keyword">int</span> v = edge[i].to;</div><div class="line">		<span class="keyword">int</span> ru = <span class="number">_f</span>ind(u), rv = <span class="number">_f</span>ind(v);</div><div class="line">		<span class="keyword">if</span>(ru == rv) <span class="keyword">continue</span>;</div><div class="line">		unit(ru, rv);</div><div class="line">		ans += edge[i].val;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> m, x;</div><div class="line">	<span class="keyword">char</span> c, b;</div><div class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) &amp;&amp; n)&#123;</div><div class="line">		init(n);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++)&#123;</div><div class="line">			<span class="built_in">cin</span>&gt;&gt;b&gt;&gt;m;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++)&#123;</div><div class="line">				<span class="built_in">cin</span>&gt;&gt;c&gt;&gt;x;</div><div class="line">				edge[tot].from = i;</div><div class="line">				edge[tot].to = c - <span class="string">'A'</span>;</div><div class="line">				edge[tot++].val = x;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, kruskal(n));</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="R-Building-a-Space-Station-最小生成树"><a href="#R-Building-a-Space-Station-最小生成树" class="headerlink" title="R - Building a Space Station(最小生成树)"></a>R - Building a Space Station(最小生成树)</h2><h3 id="题意：-5"><a href="#题意：-5" class="headerlink" title="题意："></a>题意：</h3><p>给定$n(n \le 100)$个圆的半径和圆心，若两个圆重叠或覆盖，则视为相连通。现在两个圆的圆周上建一条边，使得该两个圆联通。若使所有圆之间相互连通，问建边的最小长度和是多少。</p>
<h3 id="分析：-13"><a href="#分析：-13" class="headerlink" title="分析："></a>分析：</h3><p>$n只有100$，先$n^2$求出任两个圆之间的距离，并判断是否重叠或覆盖，若连通则将他们并在一起。最终形成若干连通块，而只要在连通块之间建边，求使连通块相连的最小花费即可。这样就转化为最小生成树问题。<br>建边必然是按照连通块之间的最小直线距离来建，最后再一次$n^2$枚举每个点，求出连通块之间的最小距离。最后求个最小生成树即可。</p>
<h3 id="代码：-11"><a href="#代码：-11" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e2</span> + <span class="number">5</span>;</div><div class="line"><span class="keyword">double</span> dist1[maxn][maxn], dist2[maxn][maxn];</div><div class="line"><span class="keyword">struct</span> POINT&#123;</div><div class="line">	<span class="keyword">double</span> x, y, z, r;</div><div class="line">&#125;p[maxn];</div><div class="line"><span class="keyword">struct</span> EDGE&#123;</div><div class="line">	<span class="keyword">int</span> from, to, next;</div><div class="line">	<span class="keyword">double</span> val;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> EDGE&amp; a) <span class="keyword">const</span>&#123;</div><div class="line">		<span class="keyword">return</span> val &lt; a.val;</div><div class="line">	&#125;</div><div class="line">&#125;edge[maxn * maxn];</div><div class="line"><span class="keyword">int</span> pa[maxn], head[maxn];</div><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="keyword">int</span> tot;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;v;</div><div class="line"><span class="keyword">double</span> eps = <span class="number">1e-8</span>;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n)</span></span></div><div class="line">&#123;</div><div class="line">	tot = <span class="number">0</span>;</div><div class="line">	<span class="built_in">memset</span>(head, <span class="number">-1</span>, <span class="keyword">sizeof</span>(head));</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++) pa[i] = i;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> from, <span class="keyword">int</span> to, <span class="keyword">double</span> val)</span></span></div><div class="line">&#123;</div><div class="line">	edge[tot].from = from;</div><div class="line">	edge[tot].to = to;</div><div class="line">	edge[tot].val = val;</div><div class="line">	edge[tot].next = head[from];</div><div class="line">	head[from] = tot++;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> <span class="number">_f</span>ind(<span class="keyword">int</span> x)</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(x == pa[x]) <span class="keyword">return</span> x;</div><div class="line">	<span class="keyword">return</span> pa[x] = <span class="number">_f</span>ind(pa[x]);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">unit</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> ra = <span class="number">_f</span>ind(a), rb = <span class="number">_f</span>ind(b);</div><div class="line">	<span class="keyword">if</span>(ra == rb) <span class="keyword">return</span>;</div><div class="line">	pa[rb] = ra;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">kruskal</span><span class="params">(<span class="keyword">int</span> n)</span></span></div><div class="line">&#123;</div><div class="line">	sort(edge, edge + tot);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++) pa[i] = i;</div><div class="line">	<span class="keyword">double</span> ans = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tot; i++)&#123;</div><div class="line">		<span class="keyword">int</span> u = edge[i].from;</div><div class="line">		<span class="keyword">int</span> v = edge[i].to;</div><div class="line">		<span class="keyword">int</span> ru = <span class="number">_f</span>ind(u), rv = <span class="number">_f</span>ind(v);</div><div class="line">		<span class="keyword">if</span>(ru == rv) <span class="keyword">continue</span>;</div><div class="line">		unit(ru, rv);</div><div class="line">		ans += edge[i].val;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">dist</span><span class="params">(POINT&amp; a, POINT&amp; b)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">double</span> t = (a.x - b.x) * (a.x - b.x) + (a.y - b.y) * (a.y - b.y) + (a.z - b.z) * (a.z - b.z);</div><div class="line">	<span class="keyword">return</span> <span class="built_in">sqrt</span>(t);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> n;</div><div class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n) &amp;&amp; n)&#123;</div><div class="line">		init(n);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%lf%lf%lf%lf"</span>, &amp;p[i].x, &amp;p[i].y, &amp;p[i].z, &amp;p[i].r);</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; j++)&#123;</div><div class="line">			    dist1[i][j] = dist(p[i], p[j]);</div><div class="line">				dist2[i][j] = <span class="number">400.0</span>;</div><div class="line">				<span class="keyword">if</span>(dist1[i][j] + eps &lt; p[i].r + p[j].r) unit(i, j);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</div><div class="line">			<span class="keyword">int</span> ri = <span class="number">_f</span>ind(i);</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; j++)&#123;</div><div class="line">				<span class="keyword">int</span> rj = <span class="number">_f</span>ind(j);</div><div class="line">				<span class="keyword">if</span>(ri == rj) <span class="keyword">continue</span>;</div><div class="line">				dist2[ri][rj] = dist2[rj][ri] = min(dist2[ri][rj], dist1[i][j] - p[i].r -p[j].r);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		v.clear();</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</div><div class="line">			<span class="keyword">if</span>(pa[i] != i) <span class="keyword">continue</span>;</div><div class="line">			v.push_back(i);</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">int</span> sz = v.size();</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sz; i++)&#123;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; sz; j++)&#123;</div><div class="line">				addedge(i, j, dist2[v[i]][v[j]]);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%.3f\n"</span>, kruskal(sz));</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="S-Borg-Maze-最小生成树"><a href="#S-Borg-Maze-最小生成树" class="headerlink" title="S - Borg Maze(最小生成树)"></a>S - Borg Maze(最小生成树)</h2><h3 id="题意：-6"><a href="#题意：-6" class="headerlink" title="题意："></a>题意：</h3><p>给定图，给定起点，每走到一个外星人点，可以拆分出两个及以上的其他人继续同时走其他未走过的点，问所有点都被访问过后，所有人走的最小距离和。</p>
<h3 id="分析：-14"><a href="#分析：-14" class="headerlink" title="分析："></a>分析：</h3><p>先$bfs$求出任意两点之间的最小距离，因为人拆分的个数不受限制，那么我们每到一个点(这里的点指外星人点，下同)，就假设拆分出足够多的人到其他所有点，即在任意两点之间建边，问题就转化为求将这些点连接起来的所有边的和的最小值，即为最小生成树问题。<br>一个大坑就是，$m$和$n$后面可能会有很多个空格，不能用$getchar()$，用$gets()$可以ac，可是用$getline()$就RE到哭，不懂为什么？路过的大神求赐教！</p>
<h3 id="代码：-12"><a href="#代码：-12" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">    &gt; File Name: 1135.cpp</div><div class="line">    &gt; Author: jiangyuzhu</div><div class="line">    &gt; Mail: 834138558@qq.com </div><div class="line">    &gt; Created Time: 2016/9/13 9:41:30</div><div class="line"> ************************************************************************/</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;p;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">50</span> + <span class="number">5</span>, maxm = <span class="number">1e2</span> + <span class="number">5</span>;</div><div class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] =&#123;<span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</div><div class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>&#125;;</div><div class="line"><span class="keyword">int</span> n, m;</div><div class="line"><span class="keyword">int</span> tot;</div><div class="line"><span class="keyword">int</span> head[maxm];</div><div class="line"><span class="keyword">int</span> mp[maxn][maxn];</div><div class="line"><span class="keyword">int</span> d[maxn][maxn][maxn][maxn];</div><div class="line"><span class="keyword">bool</span> vis[maxn][maxn];</div><div class="line"><span class="keyword">int</span> pa[maxm];</div><div class="line"><span class="built_in">vector</span>&lt;p&gt;v;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	v.clear();</div><div class="line">	tot = <span class="number">0</span>;</div><div class="line">	<span class="built_in">memset</span>(head, <span class="number">-1</span>, <span class="keyword">sizeof</span>(head));</div><div class="line">	<span class="built_in">memset</span>(d, <span class="number">0</span>, <span class="keyword">sizeof</span>(d));</div><div class="line">	<span class="built_in">memset</span>(vis, <span class="literal">false</span>, <span class="keyword">sizeof</span>(vis));</div><div class="line">&#125;</div><div class="line"><span class="keyword">struct</span> EDGE&#123;</div><div class="line">	<span class="keyword">int</span> from, to, val;</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> EDGE&amp; a)<span class="keyword">const</span>&#123;</div><div class="line">		<span class="keyword">return</span> val &lt; a.val;</div><div class="line">	&#125;</div><div class="line">&#125;edge[maxn * maxn];</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> from, <span class="keyword">int</span> to, <span class="keyword">int</span> val)</span></span></div><div class="line">&#123;</div><div class="line">	edge[tot].from = from;</div><div class="line">	edge[tot].to = to;</div><div class="line">	edge[tot].val = val;</div><div class="line">	head[from] = tot++;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> <span class="number">_f</span>ind(<span class="keyword">int</span> x)</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(pa[x] == x) <span class="keyword">return</span> x;</div><div class="line">	<span class="keyword">return</span> pa[x] = <span class="number">_f</span>ind(pa[x]);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">unite</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> ru = <span class="number">_f</span>ind(u), rv = <span class="number">_f</span>ind(v);</div><div class="line">	<span class="keyword">if</span>(ru == rv) <span class="keyword">return</span>;</div><div class="line">	pa[ru] = rv;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">prebfs</span><span class="params">(<span class="keyword">int</span> si, <span class="keyword">int</span> sj)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="built_in">queue</span>&lt;p&gt;q;</div><div class="line">	<span class="built_in">memset</span>(vis, <span class="literal">false</span>, <span class="keyword">sizeof</span>(vis));</div><div class="line">	vis[si][sj] = <span class="literal">true</span>;</div><div class="line">	d[si][sj][si][sj] = <span class="number">0</span>;</div><div class="line">	q.push(p(si, sj));</div><div class="line">	<span class="keyword">while</span>(!q.empty())&#123;</div><div class="line">		p t = q.front();q.pop();</div><div class="line">		<span class="keyword">int</span> x = t.first, y = t.second;</div><div class="line">		<span class="keyword">int</span> xx, yy;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</div><div class="line">			xx = x + dx[i], yy = y + dy[i];</div><div class="line">			<span class="keyword">if</span>(xx &lt; <span class="number">0</span> || xx &gt;= n || yy &lt; <span class="number">0</span> || yy &gt;= m) <span class="keyword">continue</span>;</div><div class="line">			<span class="keyword">if</span>(mp[xx][yy] == <span class="number">0</span> || vis[xx][yy]) <span class="keyword">continue</span>;</div><div class="line">			d[xx][yy][si][sj] = d[x][y][si][sj] + <span class="number">1</span>;</div><div class="line">		<span class="comment">//	cout&lt;&lt;xx&lt;&lt;" "&lt;&lt;yy&lt;&lt;" "&lt;&lt;si&lt;&lt;" "&lt;&lt;sj&lt;&lt;' '&lt;&lt;d[xx][yy][si][sj]&lt;&lt;endl;</span></div><div class="line">			vis[xx][yy] = <span class="literal">true</span>;</div><div class="line">			q.push(p(xx, yy));</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">kruskal</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	sort(edge, edge + tot);</div><div class="line">	<span class="keyword">int</span> ans = <span class="number">0</span>;</div><div class="line">	<span class="keyword">int</span> u, v;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tot; ++i)&#123;</div><div class="line">		u = edge[i].from;</div><div class="line">		v = edge[i].to;</div><div class="line">		<span class="keyword">if</span>(<span class="number">_f</span>ind(v) == <span class="number">_f</span>ind(u)) <span class="keyword">continue</span>;</div><div class="line">		unite(u, v);</div><div class="line">		ans += edge[i].val;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="comment">//char s[maxn];</span></div><div class="line"><span class="keyword">char</span> s[maxn];</div><div class="line"><span class="comment">//string tmp;</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> T;<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);                                       </div><div class="line">	<span class="keyword">while</span>(T--)&#123;</div><div class="line">		init();</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;m, &amp;n);</div><div class="line">		gets(s);</div><div class="line">	<span class="comment">//	getline(cin, s);</span></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</div><div class="line">		<span class="comment">//	getline(cin, s);</span></div><div class="line">			gets(s);</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; ++j)&#123;</div><div class="line">				<span class="keyword">if</span>(s[j] == <span class="string">'#'</span>) mp[i][j] = <span class="number">0</span>;</div><div class="line">				<span class="keyword">else</span> <span class="keyword">if</span>(s[j] == <span class="string">'A'</span>) mp[i][j] = <span class="number">2</span>,v.push_back(p(i, j));</div><div class="line">				<span class="keyword">else</span> <span class="keyword">if</span>(s[j] == <span class="string">' '</span>) mp[i][j] = <span class="number">1</span>;</div><div class="line">				<span class="keyword">else</span> v.push_back(p(i, j)), mp[i][j] = <span class="number">2</span>;</div><div class="line">			&#125;</div><div class="line">			<span class="comment">//printf("%s", s);</span></div><div class="line">			<span class="comment">//cout&lt;&lt;s&lt;&lt;endl;</span></div><div class="line">		&#125;</div><div class="line">		<span class="keyword">int</span> sz = v.size();</div><div class="line">		</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sz; ++i)&#123;</div><div class="line">			pa[i] = i;</div><div class="line">			prebfs(v[i].first, v[i].second);</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; sz; j++)&#123;</div><div class="line">			<span class="comment">//	cout&lt;&lt;"add"&lt;&lt;v[i].first&lt;&lt;" "&lt;&lt;v[i].second&lt;&lt;" "&lt;&lt;v[j].first&lt;&lt;" "&lt;&lt;v[j].second&lt;&lt;" "&lt;&lt; d[v[j].first][v[j].second][v[i].first][v[i].second]&lt;&lt;endl;</span></div><div class="line">				addedge(i, j , d[v[j].first][v[j].second][v[i].first][v[i].second]);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, kruskal());</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="T-Constructing-Roads-最小生成树"><a href="#T-Constructing-Roads-最小生成树" class="headerlink" title="T - Constructing Roads(最小生成树)"></a>T - Constructing Roads(最小生成树)</h2><h3 id="分析：-15"><a href="#分析：-15" class="headerlink" title="分析："></a>分析：</h3><p>裸最小生成树</p>
<h3 id="代码：-13"><a href="#代码：-13" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">    &gt; File Name: T.cpp</div><div class="line">    &gt; Author: jiangyuzhu</div><div class="line">    &gt; Mail: 834138558@qq.com </div><div class="line">    &gt; Created Time: 2016/7/25 14:36:35</div><div class="line"> ************************************************************************/</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e2</span> + <span class="number">5</span>, maxm = <span class="number">1e4</span> + <span class="number">5</span>;</div><div class="line"><span class="keyword">int</span> pa[maxn];</div><div class="line"><span class="keyword">struct</span> edge&#123;<span class="keyword">int</span> from; <span class="keyword">int</span> to; <span class="keyword">int</span> val;<span class="keyword">int</span> next;&#125;;</div><div class="line">edge edges[maxm];</div><div class="line"><span class="keyword">int</span> head[maxn];</div><div class="line"><span class="keyword">int</span> tot, n;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="built_in">memset</span>(head, <span class="number">-1</span>, <span class="keyword">sizeof</span>(head));</div><div class="line">    tot = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</div><div class="line">       pa[i] = i;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> a)</span></span></div><div class="line">&#123;</div><div class="line">    edges[tot].to = v;</div><div class="line">    edges[tot].from = u;</div><div class="line">    edges[tot++].val = a;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">const</span> edge &amp;e1,<span class="keyword">const</span> edge &amp;e2)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> e1.val &lt; e2.val;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> <span class="number">_f</span>ind(<span class="keyword">int</span> a)</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span>(a == pa[a]) <span class="keyword">return</span> a;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">return</span> pa[a] = <span class="number">_f</span>ind(pa[a]);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">unite</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> ra = <span class="number">_f</span>ind(a), rb = <span class="number">_f</span>ind(b);</div><div class="line">    <span class="keyword">if</span>(ra == rb) <span class="keyword">return</span>;</div><div class="line">    pa[rb] = ra;</div><div class="line">    <span class="keyword">return</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">same</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">_f</span>ind(a) == <span class="number">_f</span>ind(b);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">kruskal</span><span class="params">(<span class="keyword">int</span> cnt)</span></span></div><div class="line">&#123;</div><div class="line">    sort(edges, edges + tot, cmp);</div><div class="line">	<span class="keyword">int</span> res = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tot; i++)&#123;</div><div class="line">        <span class="keyword">if</span>(!same(edges[i].from,edges[i].to))&#123;</div><div class="line">            unite(edges[i].from, edges[i].to);</div><div class="line">			res += edges[i].val;</div><div class="line">			<span class="keyword">if</span>(++cnt == n - <span class="number">1</span>) <span class="keyword">return</span> res;</div><div class="line">		&#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n))&#123;</div><div class="line">		init();</div><div class="line">		<span class="keyword">int</span> x, y;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)&#123;</div><div class="line">				<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">				<span class="keyword">if</span>(i == j) <span class="keyword">continue</span>;</div><div class="line">				addedge(i, j, x);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">int</span> cnt = <span class="number">0</span>;</div><div class="line">		<span class="keyword">int</span> Q;<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;Q);</div><div class="line">		<span class="keyword">while</span>(Q--)&#123;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;x, &amp;y);x--;y--;</div><div class="line">			<span class="keyword">if</span>(!same(x, y))&#123;</div><div class="line">				unite(x, y);</div><div class="line">				cnt++;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, kruskal(cnt));</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>
    
  </div>
  
    
    
    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2016/09/12/写在前面/">
                    写在前面
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2016/09/11/SCUACM-2016集训-7-15【14-19】/">
                    SCUACM 2016集训 7.15【14/19】
                </a>
            </div>
        
    </nav>

  
</article>






    <div id="toc" class="toc-article">
        <strong class="toc-title">文章目录</strong>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#A-Island-of-Survival-概率dp"><span class="toc-number">1.</span> <span class="toc-text">A - Island of Survival(概率dp)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#题意："><span class="toc-number">1.1.</span> <span class="toc-text">题意：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分析："><span class="toc-number">1.2.</span> <span class="toc-text">分析：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码："><span class="toc-number">1.3.</span> <span class="toc-text">代码：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#B-Where-to-Run-概率dp"><span class="toc-number">2.</span> <span class="toc-text">B - Where to Run(概率dp)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#题意"><span class="toc-number">2.1.</span> <span class="toc-text">题意:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分析：-1"><span class="toc-number">2.2.</span> <span class="toc-text">分析：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码：-1"><span class="toc-number">2.3.</span> <span class="toc-text">代码：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-Batting-Practice-概率-公式推导"><span class="toc-number">3.</span> <span class="toc-text">C - Batting Practice(概率+公式推导)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#题意：-1"><span class="toc-number">3.1.</span> <span class="toc-text">题意：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分析：-2"><span class="toc-number">3.2.</span> <span class="toc-text">分析：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码：-2"><span class="toc-number">3.3.</span> <span class="toc-text">代码：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#D-Race-to-1-Again-概率dp"><span class="toc-number">4.</span> <span class="toc-text">D - Race to 1 Again(概率dp)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#题意：-2"><span class="toc-number">4.1.</span> <span class="toc-text">题意：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分析：-3"><span class="toc-number">4.2.</span> <span class="toc-text">分析：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码"><span class="toc-number">4.3.</span> <span class="toc-text">代码:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#E-Power-of-Matrix-二分-矩阵快速幂"><span class="toc-number">5.</span> <span class="toc-text">E - Power of Matrix(二分+矩阵快速幂)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#题意：-3"><span class="toc-number">5.1.</span> <span class="toc-text">题意：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分析：-4"><span class="toc-number">5.2.</span> <span class="toc-text">分析：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码：-3"><span class="toc-number">5.3.</span> <span class="toc-text">代码：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#F-Recurrences-矩阵快速幂"><span class="toc-number">6.</span> <span class="toc-text">F - Recurrences(矩阵快速幂)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#分析：-5"><span class="toc-number">6.1.</span> <span class="toc-text">分析：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码：-4"><span class="toc-number">6.2.</span> <span class="toc-text">代码：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#H-Yet-another-Number-Sequence-矩阵快速幂"><span class="toc-number">7.</span> <span class="toc-text">H - Yet another Number Sequence(矩阵快速幂)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#分析：-6"><span class="toc-number">7.1.</span> <span class="toc-text">分析：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码-1"><span class="toc-number">7.2.</span> <span class="toc-text">代码:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#I-棋盘游戏-二分图匹配"><span class="toc-number">8.</span> <span class="toc-text">I - 棋盘游戏(二分图匹配)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#分析：-7"><span class="toc-number">8.1.</span> <span class="toc-text">分析：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码：-5"><span class="toc-number">8.2.</span> <span class="toc-text">代码：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#J-Strategic-Game-最少顶点覆盖问题"><span class="toc-number">9.</span> <span class="toc-text">J - Strategic Game(最少顶点覆盖问题)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#分析：-8"><span class="toc-number">9.1.</span> <span class="toc-text">分析：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码：-6"><span class="toc-number">9.2.</span> <span class="toc-text">代码：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#N-I-Hate-It-线段树"><span class="toc-number">10.</span> <span class="toc-text">N - I Hate It(线段树)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#分析：-9"><span class="toc-number">10.1.</span> <span class="toc-text">分析：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码：-7"><span class="toc-number">10.2.</span> <span class="toc-text">代码：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#O-敌兵布阵-zkw线段树"><span class="toc-number">11.</span> <span class="toc-text">O - 敌兵布阵(zkw线段树)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#分析：-10"><span class="toc-number">11.1.</span> <span class="toc-text">分析：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码：-8"><span class="toc-number">11.2.</span> <span class="toc-text">代码：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#P-Vases-and-Flowers-线段树"><span class="toc-number">12.</span> <span class="toc-text">P - Vases and Flowers(线段树)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#题意：-4"><span class="toc-number">12.1.</span> <span class="toc-text">题意：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分析：-11"><span class="toc-number">12.2.</span> <span class="toc-text">分析：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码：-9"><span class="toc-number">12.3.</span> <span class="toc-text">代码：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Q-Jungle-Roads-最小生成树"><span class="toc-number">13.</span> <span class="toc-text">Q - Jungle Roads(最小生成树)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#分析：-12"><span class="toc-number">13.1.</span> <span class="toc-text">分析：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码：-10"><span class="toc-number">13.2.</span> <span class="toc-text">代码：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#R-Building-a-Space-Station-最小生成树"><span class="toc-number">14.</span> <span class="toc-text">R - Building a Space Station(最小生成树)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#题意：-5"><span class="toc-number">14.1.</span> <span class="toc-text">题意：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分析：-13"><span class="toc-number">14.2.</span> <span class="toc-text">分析：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码：-11"><span class="toc-number">14.3.</span> <span class="toc-text">代码：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#S-Borg-Maze-最小生成树"><span class="toc-number">15.</span> <span class="toc-text">S - Borg Maze(最小生成树)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#题意：-6"><span class="toc-number">15.1.</span> <span class="toc-text">题意：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分析：-14"><span class="toc-number">15.2.</span> <span class="toc-text">分析：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码：-12"><span class="toc-number">15.3.</span> <span class="toc-text">代码：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#T-Constructing-Roads-最小生成树"><span class="toc-number">16.</span> <span class="toc-text">T - Constructing Roads(最小生成树)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#分析：-15"><span class="toc-number">16.1.</span> <span class="toc-text">分析：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码：-13"><span class="toc-number">16.2.</span> <span class="toc-text">代码：</span></a></li></ol></li></ol>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-2 i,
        .toc-level-2 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

    <script>
        yiliaConfig.toc = ["隐藏目录", "显示目录", !!"true"];
    </script>



    
    <div class="share">
        <div class="bdsharebuttonbox">
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"SCUACM 2016集训 7.22【16/20】　| Zhuyujiang's blog　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    </div>




    
      <div class="duoshuo" id="comments">
    <div id="comment-box" ></div>
    <div class="ds-thread" id="ds-thread" data-thread-key="2016/09/11/SCUACM-2016集训-7-22【15-20】/" data-title="SCUACM 2016集训 7.22【16/20】" data-url="https://yukizzz.github.io/2016/09/11/SCUACM-2016集训-7-22【15-20】/"></div>
    <script>
        var duoshuoQuery = {short_name:"yukizzz"};
        function loadComment() {
            var d = document, s = d.createElement('script');
            s.src = 'https://yukizzz.github.io/js/embed.js';
            s.async = true; s.charset = 'UTF-8';
            (d.head || d.body).appendChild(s);
        }

        $(function() { 
            var jsonUrl = "http://api.duoshuo.com/threads/counts.jsonp?short_name=yukizzz&threads=2016/09/11/SCUACM-2016集训-7-22【15-20】/&callback=?";
            $.getJSON(jsonUrl, function(result) {
                $.each(result.response, function(i, field) {
                    var value = field.comments;
                    if (value > 0) {
                        $(".count-comment").text(value);
                        return;
                    }
                })

            })
        });
    </script>
    
    <script> loadComment(); </script>

</div>

    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2016/09/12/写在前面/" title="上一篇: 写在前面">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2016/09/11/SCUACM-2016集训-7-15【14-19】/" title="下一篇: SCUACM 2016集训 7.15【14/19】">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/12/06/UvaLive-7504-Business-Cycle【二分-模拟】/">UvaLive 7504 Business Cycle【二分+模拟】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/04/UvaLive-7511-Multiplication-Table【模拟】/">UvaLive 7511 Multiplication Table【模拟】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/01/Codeforces-733F-Drivers-Dissatisfaction【最小生成树-LCA】/">Codeforces 733F Drivers Dissatisfaction【最小生成树+LCA】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/31/Codeforces-732D-Exams【二分-贪心】/">Codeforces 732D Exams【二分+贪心】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/12/HDU-4313-Matrix【最小生成树-Or-树形dp】/">HDU 4313 Matrix【最小生成树 Or 树形dp】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/11/Codeforces-461B-Appleman-and-Tree【树形dp】/">Codeforces 461B Appleman and Tree【树形dp】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/10/HDU-5863-cjj-s-string-game【dp-矩阵快速幂】/">HDU 5863 cjj's string game【dp+矩阵快速幂】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/10/HDU-5860-Death-Sequence【约瑟夫环变形】/">HDU 5860 Death Sequence【约瑟夫环变形】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/09/HDU-5852-Intersection-is-not-allowed/">HDU 5852 Intersection is not allowed【容斥+行列式求解】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/09/HDU-5853-Jong-Hyok-and-String【后缀自动机】/">HDU 5853 Jong Hyok and String【后缀自动机】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/08/HDU-5803-Zhu’s-Math-Problem【数位dp】/">HDU 5803 Zhu’s Math Problem【数位dp】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/08/HDU-5800-To-My-Girlfriend【DP】/">HDU 5800 To My Girlfriend【DP】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/08/HDU-5802-Windows-10【贪心】/">HDU 5802 Windows 10【贪心】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/07/HDU-5798-Stabilization【异或运算巧妙处理】/">HDU 5798 Stabilization【异或运算巧妙处理】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/07/HDU-5794-A-Simple-Chess【容斥】/">HDU 5794 A Simple Chess【容斥】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/06/HDU-5919-Sequence-II【主席树】/">HDU 5919 Sequence II【主席树】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/06/HDU-5790-Prefix【主席树-字典树】/">HDU 5790 Prefix【主席树+字典树】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/06/SPOJ-DQUERY-D-query【主席树-Or-树状数组】/">SPOJ DQUERY - D-query【主席树 Or 树状数组】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/04/HDU-5785-Interesting【Manacher】/">HDU 5785 Interesting【Manacher】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/04/HDU-5784-How-Many-Triangles【极角排序】/">HDU 5784 How Many Triangles【极角排序】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/01/HDU-5772-String-problem【最大权闭合子图】/">HDU 5772 String problem【最大权闭合子图】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/01/HDU-5765-Bonds【状压dp-高维前缀和】/">HDU 5765 Bonds【状压+高维前缀和】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/30/HDU-5764-After-a-Sleepless-Night【DFS】/">HDU 5764 After a Sleepless Night【DFS】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/29/HDU-5760-Palindrome-Bo【dp】/">HDU 5760 Palindrome Bo【dp】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/28/HDU-5756-Boss-Bo【主席树】/">HDU 5756 Boss Bo【主席树+DFS序】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/28/HDU-5758-Explorer-Bo【树形dp】/">HDU 5758 Explorer Bo【树形dp】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/27/HDU-5892-Resident-Evil【二维树状数组】/">HDU 5892 Resident Evil【二维树状数组】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/27/Codeforces-341D-Iahub-and-Xors【二维树状数组】/">Codeforces 341D Iahub and Xors【二维树状数组】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/27/NEUOJ-1454-逃票的chanming-1【树状数组】/">NEUOJ 1454 逃票的chanming(1【树状数组】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/27/BZOJ-3132-上帝造题的七分钟【二维树状数组/">BZOJ 3132 上帝造题的七分钟【二维树状数组】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/26/HDU-5895-Mathematician-QSC【矩阵快速幂-数论】/">HDU 5895 Mathematician QSC【矩阵快速幂+数论】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/24/HDU-5446-Unknown-Treasure【Lucas-中国剩余定理】/">HDU 5446 Unknown Treasure【Lucas+中国剩余定理】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/23/HDU-5894-hannnnah-j’s-Biological-Test【组合数学】/">HDU 5894 hannnnah_j’s Biological Test【组合数学】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/22/Codeforces-665F-Four-Divisors/">Codeforces 665F Four Divisors【数论】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/22/HDU-5900-QSC-and-Master【区间dp】/">HDU 5900 QSC and Master【区间dp】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/22/HDU-5898-odd-even-number【数位dp】/">HDU 5898 odd-even number【数位dp】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/20/HDU-5893-List-wants-to-travel【树链剖分】/">HDU 5893 List wants to travel【树链剖分】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/17/HDU-5889-Barricade【BFS-最小割】/">HDU 5889 Barricade【BFS + 最小割】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/16/POJ-1066-Treasure-Hunt【线段交】/">POJ 1066 Treasure Hunt【线段交】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/16/HDU-3395-Special-Fish【KM-or-费用流】/">HDU 3395 Special Fish【KM or 费用流】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/14/读书笔记/">读书笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/14/POJ-3694-Network【LCA-并查集】/">POJ 3694 Network【LCA + 并查集】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/14/HDU-3671-Boonie-and-Clyde【无向图割点】/">HDU 3671 Boonie and Clyde【无向图割点】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/12/写在前面/">写在前面</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/11/SCUACM-2016集训-7-22【15-20】/">SCUACM 2016集训 7.22【16/20】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/11/SCUACM-2016集训-7-15【14-19】/">SCUACM 2016集训 7.15【14/19】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/11/SCUACM-2016集训-7-13【15-18】/">SCUACM 2016集训 7.13【16/18】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/11/SCUACM-2016集训-7-11/">SCUACM 2016集训 7.11【7/11】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/11/SCUACM-2016集训-7-8【11-16】/">SCUACM 2016集训 7.8【13/16】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/11/SCUACM-2016集训-7-6【16-20】/">SCUACM 2016集训 7.6【17/20】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/11/SCUACM-2016集训-7-4【15-17】/">SCUACM 2016集训 7.4【AK】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/08/Codeforces-266D-BerDonalds【图绝对中心】/">Codeforces 266D BerDonalds【图绝对中心】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/08/Codeforces-681E-Runaway-to-a-Shadow【计算几何】/">Codeforces 681E Runaway to a Shadow【计算几何】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/07/Codeforces-645E-Intellectual-Inquiry【dp，构造】/">Codeforces 645E Intellectual Inquiry【dp，构造】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/30/HDU-5728-PowMod【欧拉函数】/">HDU 5728 PowMod【欧拉函数】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/30/BZOJ-3884-上帝与集合的正确用法【欧拉函数】/">BZOJ 3884 上帝与集合的正确用法【欧拉函数】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/29/HDU-5733-tetrahedron【几何公式】/">HDU 5733 tetrahedron【几何公式】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/29/HDU-5725-Game【思维，细节】/">HDU 5725 Game【思维，细节】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/29/HDU-5730-Shell-Necklace【CDQ分治-FFT】/">HDU 5730 Shell Necklace【CDQ分治+FFT】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/24/HDU-5829-Rikka-with-Subset【NTT】/">HDU 5829 Rikka with Subset【NTT】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/24/51nod-1028-大数乘法【FFT】/">51nod 1028 大数乘法【FFT】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/24/BZOJ-3527-ZJOI2014-力【FFT】/">BZOJ 3527 [ZJOI2014]力【FFT】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/23/HDU-5820-Lights【zkw线段树，扫描线】/">HDU 5820 Lights【zkw线段树，扫描线】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/23/Codeforces-52C-Circular-RMQ【zkw线段树】/">Codeforces 52C Circular RMQ【zkw线段树】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/22/HDU-1166-敌兵布阵【zkw线段树】/">HDU 1166 敌兵布阵【zkw线段树】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/22/HDU-5820-Lights【主席树，扫描线】/">HDU 5820 Lights【主席树，扫描线】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/21/HDU-5818-Joint-Stacks【优先级队列】/">HDU 5818 Joint Stacks【优先级队列】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/21/HDU-5812-Distance【数学】/">HDU 5812 Distance【数学】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/21/HDU-5819-Knights【概率dp】/">HDU 5819 Knights【概率dp】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/17/HDU-3537-Daizhenyang-s-Coin【翻硬币游戏】/">HDU 3537 Daizhenyang's Coin【翻硬币游戏】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/17/HDU-5811-Colosseo【竞赛图，拓扑排序】/">HDU 5811 Colosseo【竞赛图，拓扑排序】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/17/HDU-5823-color-II【状压dp】/">HDU 5823 color II【状压dp】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/15/HDU-5828-Rikka-with-Sequence【线段树】/">HDU 5828 Rikka with Sequence【线段树】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/15/HDU-5821-Ball【脑洞】/">HDU 5821 Ball【脑洞】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/15/HDU-5826-physics【物理】/">HDU 5826 physics【物理】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/15/HDU-5810-Balls-and-Boxes【期望，公式推导】/">HDU 5810 Balls and Boxes【期望，公式推导】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/14/HDU-5816-Hearthstone【概率dp】/">HDU 5816 Hearthstone【概率dp】</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/14/Hello/">Hello</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/13/hello-world/">Hello World</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016 zhuyujiang
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题 v3.5">Yelee</a><span> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
    </div>
</footer>
    </div>
    
    <script src="/js/GithubRepoWidget.js"></script>

<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 4;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





    <script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
             github: ".github-widget a", 
            
             post: ".article-entry a[href]", 
            
            
            
            
            
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"yukizzz"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>
<!-- 多说公共JS代码 end -->
  </div>
</body>
</html>